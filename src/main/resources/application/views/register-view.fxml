<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane stylesheets="@../styles/styles.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.controllers.RegisterController">

    <VBox alignment="TOP_CENTER" maxHeight="600" maxWidth="403.0" prefHeight="518.0" prefWidth="400.0" spacing="10" styleClass="login-card">

        <StackPane style="-fx-background-color: white; -fx-background-radius: 12; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 30, 0, 0, 10); -fx-padding: 5;  -fx-min-width: 60; -fx-min-height: 60; -fx-max-width: 60; -fx-max-height: 60;">
            <Region maxHeight="30.0" maxWidth="30.0" styleClass="icon-register" />
        </StackPane>

        <Label minHeight="10" />

        <VBox alignment="CENTER" spacing="5">
            <Label styleClass="title-text" text="Register" />
            <Label styleClass="subtitle-text" text="Create your account to get started..." />
        </VBox>

        <VBox alignment="CENTER" spacing="15" style="-fx-width: 100%;">

            <StackPane alignment="CENTER_LEFT">
                <TextField fx:id="usernameField" promptText="Username" styleClass="input-field" />
                <Region maxHeight="20.0" maxWidth="20.0" styleClass="icon-user" mouseTransparent="true">
               <StackPane.margin>
                  <Insets left="15.0" />
               </StackPane.margin></Region>
            </StackPane>

            <StackPane alignment="CENTER_LEFT">
                <TextField fx:id="passwordVisibleField" managed="false" promptText="Password" styleClass="input-field" visible="false" />
                <PasswordField fx:id="passwordField" promptText="Password" styleClass="input-field"  />

                <Region maxHeight="20.0" maxWidth="18.0" styleClass="icon-lock" mouseTransparent="true">
               <StackPane.margin>
                  <Insets left="15.0" />
               </StackPane.margin>
               <padding>
                  <Insets left="1.0" />
               </padding></Region>

                <Button onAction="#togglePasswordVisibility" style="-fx-background-color: transparent; -fx-focus-color: transparent; -fx-faint-focus-color: transparent;" styleClass="eye-button" StackPane.alignment="CENTER_RIGHT">
                    <graphic>
                        <Region fx:id="eyeIconPass" styleClass="icon-eye-closed" />
                    </graphic>
                    <StackPane.margin>
                        <Insets right="10" />
                    </StackPane.margin>
                </Button>
            </StackPane>

            <StackPane alignment="CENTER_LEFT">
                <TextField fx:id="confirmPasswordVisibleField" managed="false" promptText="Confirm Password" styleClass="input-field" visible="false" />
                <PasswordField fx:id="confirmPasswordField" promptText="Confirm Password" styleClass="input-field" />

                <Region maxHeight="20.0" maxWidth="18.0" styleClass="icon-lock" mouseTransparent="true">
               <StackPane.margin>
                  <Insets left="15.0" />
               </StackPane.margin></Region>

                <Button onAction="#toggleConfirmPasswordVisibility" style="-fx-background-color: transparent; -fx-focus-color: transparent; -fx-faint-focus-color: transparent;" styleClass="eye-button" StackPane.alignment="CENTER_RIGHT">
                    <graphic>
                        <Region fx:id="eyeIconConfirm" styleClass="icon-eye-closed" />
                    </graphic>
                    <StackPane.margin>
                        <Insets right="10" />
                    </StackPane.margin>
                </Button>
            </StackPane>
        </VBox>

        <Label minHeight="5" />
        <Button fx:id="registerButton" maxWidth="Infinity" onAction="#handleRegister" styleClass="primary-button" text="Create new Account" />

        <HBox alignment="CENTER" spacing="5">
            <Label styleClass="secondary-text" text="Already have an account?" />
            <Hyperlink fx:id="loginLink" onAction="#showLoginView" styleClass="link-text" text="Login now" />
        </HBox>

    </VBox>

</StackPane>
